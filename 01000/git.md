# GIT

## 1.git基本介绍

> git是一种**版本控制系统**，是用来对我们的代码进行管理的一种工具

git是一种分布式的系统，svn是一种集中式的系统，现在公司中大多是使用git的。

- 下载地址：<https://git-scm.com/downloads>

## 2.git基础命令

> git的基础命令

```bash
# 新建目录
$ mkdir 目录1 目录2 ..

# 进入目录
$ cd dir

# 返回上级目录
$ cd ..

# 删除目录
$ rm -rf 目录名1 目录名1 ..

# 新建文件
$ touch 文件名1 文件名2 ..

# 删除文件
$ rm 文件1 文件2 ..

# 清空屏幕
$ clear

# 查看文件内容
$ cat 文件名 

# 查看文件内容 需要按q退出
$ less 文件名

# 创建并进入文件编辑模式
$ vi 文件名

# 进入插入编辑模式 
$ i 

# esc退出插入编辑模式
# 退出编辑模式 但是不保存
$ :q

# 保存并退出编辑模式
$ :wq

# 强制退出但不保存编辑模式
$ :q!
```

> git用于版本控制的命令

- **git init**     初始化命令,初始化仓库
  - 在任意目录下操作，表示让git对当前目录内的内容进行管理
  - **会在当前目录下创建一个隐藏的.git目录，是git自己使用的，我们不要操作他**
- **git add**    添加文件
  - git add 文件名 
  - git add 文件名1 文件名2 文件名3
  - git add .       **常用**，添加当前目录中所有文件
- **git commit -m '描述信息'**        提交
  - 初次进行commit时，git会进行身份询问，需要设置用户信息
    - git config --global user.email 'xxxx@xxx.xxx'
    - git config --global user.name 'xxxxx'

- 我们实际操作中需要进行的步骤为：
  - git init一次
  - 进行代码修改
  - git add . 和 git commit -m '内容自己编'
  - **再改代码，再重复上面的步骤n次**
    - 通过多次commit就创建了多个版本
  - 在需要的时候进行git log 或者 git log --oneline 查看版本信息

## 3.git的版本穿梭

> 版本穿梭指的是让代表在不同版本中进行选择变化的一种操作

- 前提条件：先具有一些已经commit过的版本，才能进行版本穿梭。
- 步骤：
  - 通过git log --oneline 查看所有版本
  - **git reset --hard 版本号**  版本号推荐进行复制，否则容易写错
  - 如果当前处于旧的版本中，并且重新打开了git bash，可以通过**git reflog**的方式查看所有版本信息
    - 从一堆版本中找到具有commit的部分进行穿梭

## 4.git的三个工作区域

- 工作目录：平常我们代码操作所处于的目录
  - 版本穿梭会在这个目录中进行代码版本替换
- 暂存区：
  - add并且没有commit的文件都处于暂存区中
- git仓库
  - commit过的文件，保存在git仓库中作为一个版本
  - 仓库中保存了很多版本和对应的文件内容，每次版本穿梭时就将工作目录重置为某个版本中的状态

## 5.git文件的状态查看

- git status
  - **untracked** 未跟踪的文件
    - 某个文件是新出现在工作目录中的，以前没有add或commit
  - **modified** 修改过的文件
    - 某个文件以前提交过，但是又进行了修改
  - staged 已暂存的文件 （add过但是没有commit的文件）
  - committed 已提交的文件（进行了commit的文件）

## 6.git的分支操作

> 默认只有master的分支
>
> master分支用来保存**一定可以上线使用的稳定代码**，通常不会在master中直接进行开发，而是新建新分支开发，新分支可以叫做dev或其他名称。

- **git branch**     查看所有分支列表
- **git branch 分支名**     创建某个分支
- **git checkout 分支名**     切换到某个分支
- **git checkout -b 分支名**     创建并切换到某个分支
- **git branch -d 分支名**    删除某个分支
- **git merge 分支名**      合并分支
  - merge指的是**将指定分支合并到当前分支下**
  - 例如：希望将dev合并到master中，需要先切换到master，然后再git merge dev

## 7.合并冲突以及处理方式

- 当a分支b分支进行合并时
  - **a修改了某块内容**
  - **b也修改了同一块内容**
  - 进行合并时git就无法进行正常的合并操作了(程序不知道哪块代码是我们需要的)
  - 需要手**动打开出现冲突的文件**，**选择需要的部分，删除不需要的部分**
  - **保存**后，再进行 **git add 和 git commit 操作**即可

```html
下面的内容是出现冲突后的代码内容：
	- 其中 <<<<  =====  >>>> 都是git用来标记使用的，最终都需要删除

<body>
<<<<<<< HEAD
  <h1>master中改了h1的内容</h1>
=======
  <h1>这是dev中修改的h1内容</h1>
>>>>>>> dev
</body>
```

##8. github简介

> github是一个代码托管网站，可以从上面找到我们需要的各种库。

> github可以**作为git的远程仓库使用**，可以将代码在线上保存，便于多人开发。

- 类似这样的网站还有很多，例如gitlab、码云等

###8.1在github上创建远程仓库的方式

> 步骤：

- 注册并登陆
- 按照资料配图中的操作步骤进行远程仓库创建

###8.2 git克隆远程仓库与推送

- git clone 远程仓库地址     --- 将远程仓库**克隆**到本地
- 随后进行一些代码修改等操作，并进行提交
- git push   --- 将提交信息**推送**到远程仓库

###8.3 git的拉取和冲突处理

- 命令：  git pull  可以将远程仓库的代码拉取到本地
- 如果远程仓库代码出现更新（其他开发者提交的内容）需要拉取到本地
  - github会将远程仓库pull的内容下载到本地，和本地仓库自动合并
- 这个合并可能出现冲突（原因和之前相同）
  - 如何处理
  - 可以将无用的部分删除即可，然后再 add和commit即可
- **区别：**
  - **git clone  初次下载远程仓库的代码**
  - **git pull   以后将远程仓库代码更新到本地**

###8.4 git的可视化工具使用

> 工具的本质还是命令，通过可视化界面操作就无需我们输入命令了，工具会自动帮我们执行。
>
> 在资料目录中有配图，可以根据图示进行使用

- vscode的gitlens插件
- github desktop 软件使用